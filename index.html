<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library System - Update Works</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:#f4f6f8;color:#333;}
header{background:#2b6777;color:white;text-align:center;padding:15px;font-size:22px;font-weight:bold;box-shadow:0 4px 10px rgba(0,0,0,0.3);}

/* NAVBAR */
.navbar{display:flex;justify-content:center;flex-wrap:wrap;gap:15px;background:#52ab98;padding:12px 0;}
.navbar a{color:white;text-decoration:none;display:flex;align-items:center;gap:6px;font-weight:bold;transition:0.3s;font-size:16px;}
.navbar a:hover{transform:translateY(-2px);color:#ffe77a;}
.navbar i{font-size:18px;}

/* DASHBOARD */
.container{max-width:900px;margin:20px auto;background:white;border-radius:15px;padding:20px;box-shadow:0 4px 10px rgba(0,0,0,0.1);animation: fadeIn 0.5s ease;}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}

.categories{display:grid;grid-template-columns: repeat(auto-fit,minmax(120px,1fr));gap:15px;margin-bottom:20px;}
.card{background:white;padding:15px;border-radius:15px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,0.1);transition: transform 0.3s, box-shadow 0.3s;cursor:pointer;}
.card i{font-size:35px;margin-bottom:8px;color:#2b6777;transition: transform 0.3s, color 0.3s;}
.card:hover{transform: translateY(-5px) scale(1.05);box-shadow:0 6px 20px rgba(0,0,0,0.2);}
.card:hover i{transform: rotate(15deg) scale(1.2);color:#ffab3c;}
.card p{font-weight:bold;font-size:16px;margin-top:5px;}

input, button{width:100%;padding:10px;margin-bottom:10px;border-radius:8px;border:1px solid #ccc;}
button{border:none;background:#52ab98;color:white;font-weight:bold;cursor:pointer;transition:0.3s;}
button:hover{background:#3b8d7e;}

table{width:100%;border-collapse:collapse;margin-top:15px;}
th,td{padding:10px;border:1px solid #ddd;text-align:center;}
th{background:#2b6777;color:white;}
tr:nth-child(even){background:#f2f2f2;}
.delete-btn,.edit-btn{padding:5px 8px;border-radius:5px;color:white;border:none;cursor:pointer;}
.delete-btn{background:#c94c4c;}
.delete-btn:hover{background:#a33d3d;}
.edit-btn{background:#ffa500;}
.edit-btn:hover{background:#e69500;}

footer{text-align:center;padding:10px;background:#2b6777;color:white;margin-top:20px;font-size:14px;}

@media(max-width:600px){
  .navbar{flex-direction:column;}
  th,td{font-size:14px;padding:8px;}
}
</style>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>

<header>📚 Library System</header>

<!-- LOGIN -->
<div class="container" id="loginPage">
<h2>Login</h2>
<input type="text" id="loginUser" placeholder="Username">
<input type="password" id="loginPass" placeholder="Password">
<button onclick="login()">Login</button>
<div class="link" style="text-align:center;">No account? <a href="#" onclick="showRegister()">Register</a></div>
</div>

<!-- REGISTER -->
<div class="container" id="registerPage" style="display:none;">
<h2>Register</h2>
<input type="text" id="regUser" placeholder="Username">
<input type="password" id="regPass" placeholder="Password">
<button onclick="register()">Register</button>
<div class="link" style="text-align:center;">Have account? <a href="#" onclick="showLogin()">Login</a></div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" style="display:none;">
<nav class="navbar">
  <a href="#"><i class="fas fa-home"></i> Home</a>
  <a href="#"><i class="fas fa-book"></i> Books</a>
  <a href="#"><i class="fas fa-search"></i> Search</a>
  <a href="#"><i class="fas fa-info-circle"></i> About</a>
  <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
</nav>

<div class="container">
<h2>Book Categories</h2>
<div class="categories">
  <div class="card"><i class="fas fa-gift"></i><p>Hadyad</p></div>
  <div class="card"><i class="fas fa-heart"></i><p>Jacel</p></div>
  <div class="card"><i class="fas fa-lightbulb"></i><p>Xikmad</p></div>
  <div class="card"><i class="fas fa-skull-crossbones"></i><p>Xaraabo</p></div>
</div>

<h2>Add / Update Book</h2>
<input type="text" id="title" placeholder="Book Title">
<input type="text" id="author" placeholder="Author">
<input type="text" id="year" placeholder="Year">
<button onclick="saveBook()">Save Book</button>

<h2>Book List</h2>
<table id="bookTable">
  <thead>
    <tr><th>Title</th><th>Author</th><th>Year</th><th>Actions</th></tr>
  </thead>
  <tbody></tbody>
</table>
</div>
</div>

<footer>© 2025 Library System</footer>

<script>
const loginPage = document.getElementById("loginPage");
const registerPage = document.getElementById("registerPage");
const dashboard = document.getElementById("dashboard");
const tableBody = document.querySelector("#bookTable tbody");
let editIndex = -1;

// ===== NAVIGATION =====
function showRegister(){ loginPage.style.display="none"; registerPage.style.display="block"; }
function showLogin(){ registerPage.style.display="none"; loginPage.style.display="block"; }
function showDashboard(){ loginPage.style.display="none"; registerPage.style.display="none"; dashboard.style.display="block"; loadBooks(); }
function logout(){ dashboard.style.display="none"; loginPage.style.display="block"; editIndex=-1; document.getElementById("title").value=""; document.getElementById("author").value=""; document.getElementById("year").value="";}

// ===== REGISTER =====
function register(){
  const user = document.getElementById("regUser").value;
  const pass = document.getElementById("regPass").value;
  if(user && pass){
    localStorage.setItem("username", user);
    localStorage.setItem("password", pass);
    alert("✅ Registered!");
    showDashboard();
  }else{alert("⚠️ Fill all fields");}
}

// ===== LOGIN =====
function login(){
  const user = document.getElementById("loginUser").value;
  const pass = document.getElementById("loginPass").value;
  const savedUser = localStorage.getItem("username");
  const savedPass = localStorage.getItem("password");
  if(user===savedUser && pass===savedPass){ alert("✅ Welcome "+user); showDashboard(); }
  else{ alert("❌ Wrong credentials"); }
}

// ===== BOOK SYSTEM =====
function saveBook(){
  const title = document.getElementById("title").value;
  const author = document.getElementById("author").value;
  const year = document.getElementById("year").value;
  if(!title || !author || !year){alert("⚠️ Fill all fields"); return;}
  let books = JSON.parse(localStorage.getItem("books"))||[];
  if(editIndex>=0){ // UPDATE
    books[editIndex] = {title,author,year};
    editIndex=-1;
  }else{ // ADD
    books.push({title,author,year});
  }
  localStorage.setItem("books", JSON.stringify(books));
  loadBooks();
  document.getElementById("title").value="";
  document.getElementById("author").value="";
  document.getElementById("year").value="";
}

function loadBooks(){
  tableBody.innerHTML="";
  let books = JSON.parse(localStorage.getItem("books"))||[];
  books.forEach((b,i)=>{
    const row=document.createElement("tr");
    row.innerHTML=`<td>${b.title}</td><td>${b.author}</td><td>${b.year}</td>
    <td>
      <button class="edit-btn" onclick="editBook(${i})">Edit</button>
      <button class="delete-btn" onclick="deleteBook(${i})">Delete</button>
    </td>`;
    tableBody.appendChild(row);
  });
}

function editBook(i){
  let books = JSON.parse(localStorage.getItem("books"))||[];
  document.getElementById("title").value = books[i].title;
  document.getElementById("author").value = books[i].author;
  document.getElementById("year").value = books[i].year;
  editIndex = i;
}

function deleteBook(i){
  let books = JSON.parse(localStorage.getItem("books"))||[];
  books.splice(i,1);
  localStorage.setItem("books",JSON.stringify(books));
  loadBooks();
}
</script>

</body>
</html>
